---
es:
  port: 9200
  tls: false
  autodiscovery: true

humioHostname: "cloud.humio.com"

# kube-state-metrics configuration
# Configure where metricbeat should find kube-state-metrics
kubeStateMetrics:
  # Service name for kube-state-metrics (without namespace)
  serviceName: "kube-state-metrics"
  # Namespace where kube-state-metrics is deployed
  # If empty, defaults to the same namespace as this chart
  namespace: ""
  # Port that kube-state-metrics listens on
  port: 8080

initImage: humio/strix:latest
initImagePullPolicy: Always

jobImage: humio/strix:latest
jobImagePullPolicy: Always

strixImage: humio/strix:latest
strixImagePullPolicy: Always

image: "docker.elastic.co/beats/metricbeat:8.16.6"
imagePullSecrets: []

# Container arguments for metricbeat
containerArgs:
  # Arguments for deployment container
  deployment:
    - "-c"
    - "/etc/metricbeat.yml"
    - "-e"
  # Arguments for daemonset container
  daemonset:
    - "-c"
    - "/etc/metricbeat.yml"
    - "-e"
    - "-system.hostfs=/hostfs"

publish:
  enabled: true
  gcs:
    bucket: ""
    directory: results
    serviceAccountSecretName: google-application-credentials

ttlSecondsAfterFinished: ""

queries: {}

resources:
  limits:
    cpu: 300m
    memory: 200Mi
  requests:
    cpu: 100m
    memory: 100Mi

#customMetricbeatDaemonsetModules:
#  custom.yml: |-
#customMetricbeatDeploymentModules:
#  custom.yml: |-

nodeSelector: {}
tolerations: []
affinity: {}

# Security context for metricbeat daemonset container
# Default is runAsUser: 0 (hardcoded in template)
# Additional capabilities can be added for specific monitoring needs
securityContext: {}
  # capabilities:
  #   add:
  #     - SYS_PTRACE      # Required for process monitoring
  #     - DAC_READ_SEARCH # Required for reading process info
  #     - SYS_ADMIN       # Required for system-level monitoring
  #     - AUDIT_READ      # Required for audit log access
